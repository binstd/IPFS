{"version":3,"sources":["../../src/commands/build-javascript.js"],"names":["webpack","require","webpackConfig","module","exports","program","directory","compilerConfig","Promise","resolve","reject","run","err","stats","jsonStats","toJson","errors","length"],"mappings":";;;;;;;;;;;;AACA,IAAMA,UAAUC,QAAS,SAAT,CAAhB;AACA,IAAMC,gBAAgBD,QAAS,yBAAT,CAAtB;;AAEAE,OAAOC,OAAP;AAAA,sFAAiB,iBAAMC,OAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AACPC,qBADO,GACOD,OADP,CACPC,SADO;AAAA;AAAA,mBAGcJ,cAC3BG,OAD2B,EAE3BC,SAF2B,EAG1B,kBAH0B,CAHd;;AAAA;AAGTC,0BAHS;AAAA,6CASR,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACtCV,sBAAQO,eAAeE,OAAf,EAAR,EAAkCE,GAAlC,CAAsC,UAACC,GAAD,EAAMC,KAAN,EAAgB;AACpD,oBAAID,GAAJ,EAAS;AACPF,yBAAOE,GAAP;AACA;AACD;;AAED,oBAAME,YAAYD,MAAME,MAAN,EAAlB;AACA,oBAAID,UAAUE,MAAV,IAAoBF,UAAUE,MAAV,CAAiBC,MAAjB,GAA0B,CAAlD,EAAqD;AACnDP,yBAAOI,UAAUE,MAAjB;AACA;AACD;;AAEDP;AACD,eAbD;AAcD,aAfM,CATQ;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAjB;;AAAA;AAAA;AAAA;AAAA","file":"build-javascript.js","sourcesContent":["/* @flow */\nconst webpack = require(`webpack`)\nconst webpackConfig = require(`../utils/webpack.config`)\n\nmodule.exports = async program => {\n  const { directory } = program\n\n  const compilerConfig = await webpackConfig(\n    program,\n    directory,\n    `build-javascript`\n  )\n\n  return new Promise((resolve, reject) => {\n    webpack(compilerConfig.resolve()).run((err, stats) => {\n      if (err) {\n        reject(err)\n        return\n      }\n\n      const jsonStats = stats.toJson()\n      if (jsonStats.errors && jsonStats.errors.length > 0) {\n        reject(jsonStats.errors)\n        return\n      }\n\n      resolve()\n    })\n  })\n}\n"]}