"use strict";

var retext = require(`retext`);
var visit = require(`unist-util-visit`);
var smartypants = require(`retext-smartypants`);

module.exports = function (_ref) {
  var markdownAST = _ref.markdownAST;
  var pluginOptions = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

  visit(markdownAST, `text`, function (node) {
    var processedText = String(retext().use(smartypants, pluginOptions).process(node.value));
    node.value = processedText;
  });

  return markdownAST;
};