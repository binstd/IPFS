"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const path = require("path");
const mkdirp = require("mkdirp");
exports.isMac = process.platform === 'darwin';
exports.isLinux = process.platform === 'linux';
exports.isWindows = process.platform === 'win32';
if (exports.isWindows && process.env.LOCALAPPDATA) {
    exports.configDir = path.join(process.env.LOCALAPPDATA, 'devcert', 'config');
}
else {
    let uid = process.getuid && process.getuid();
    let userHome = (exports.isLinux && uid === 0) ? path.resolve('/usr/local/share') : require('os').homedir();
    exports.configDir = path.join(userHome, '.config', 'devcert');
}
exports.configPath = path.join.bind(path, exports.configDir);
exports.opensslConfTemplate = path.join(__dirname, '..', 'openssl.conf');
exports.opensslConfPath = exports.configPath('openssl.conf');
exports.rootKeyPath = exports.configPath('devcert-ca-root.key');
exports.rootCertPath = exports.configPath('devcert-ca-root.crt');
exports.caCertsDir = exports.configPath('certs');
mkdirp.sync(exports.configDir);
mkdirp.sync(exports.caCertsDir);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29uc3RhbnRzLmpzIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9qYXNvbm1pbGxlci9Qcm9qZWN0cy9pdGFseS9kZXZjZXJ0LyIsInNvdXJjZXMiOlsiY29uc3RhbnRzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsNkJBQTZCO0FBQzdCLGlDQUFpQztBQUVwQixRQUFBLEtBQUssR0FBRyxPQUFPLENBQUMsUUFBUSxLQUFLLFFBQVEsQ0FBQztBQUN0QyxRQUFBLE9BQU8sR0FBRyxPQUFPLENBQUMsUUFBUSxLQUFLLE9BQU8sQ0FBQztBQUN2QyxRQUFBLFNBQVMsR0FBRyxPQUFPLENBQUMsUUFBUSxLQUFLLE9BQU8sQ0FBQztBQUl0RCxFQUFFLENBQUMsQ0FBQyxpQkFBUyxJQUFJLE9BQU8sQ0FBQyxHQUFHLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQztJQUMxQyxpQkFBUyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxZQUFZLEVBQUUsU0FBUyxFQUFFLFFBQVEsQ0FBQyxDQUFDO0FBQ3ZFLENBQUM7QUFBQyxJQUFJLENBQUMsQ0FBQztJQUNOLElBQUksR0FBRyxHQUFHLE9BQU8sQ0FBQyxNQUFNLElBQUksT0FBTyxDQUFDLE1BQU0sRUFBRSxDQUFDO0lBQzdDLElBQUksUUFBUSxHQUFHLENBQUMsZUFBTyxJQUFJLEdBQUcsS0FBSyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLGtCQUFrQixDQUFDLEdBQUcsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLE9BQU8sRUFBRSxDQUFDO0lBQ25HLGlCQUFTLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUUsU0FBUyxFQUFFLFNBQVMsQ0FBQyxDQUFDO0FBQ3hELENBQUM7QUFDWSxRQUFBLFVBQVUsR0FBMEMsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLGlCQUFTLENBQUMsQ0FBQztBQUVwRixRQUFBLG1CQUFtQixHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLElBQUksRUFBRSxjQUFjLENBQUMsQ0FBQztBQUNqRSxRQUFBLGVBQWUsR0FBRyxrQkFBVSxDQUFDLGNBQWMsQ0FBQyxDQUFDO0FBQzdDLFFBQUEsV0FBVyxHQUFHLGtCQUFVLENBQUMscUJBQXFCLENBQUMsQ0FBQztBQUNoRCxRQUFBLFlBQVksR0FBRyxrQkFBVSxDQUFDLHFCQUFxQixDQUFDLENBQUM7QUFDakQsUUFBQSxVQUFVLEdBQUcsa0JBQVUsQ0FBQyxPQUFPLENBQUMsQ0FBQztBQUU5QyxNQUFNLENBQUMsSUFBSSxDQUFDLGlCQUFTLENBQUMsQ0FBQztBQUN2QixNQUFNLENBQUMsSUFBSSxDQUFDLGtCQUFVLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIHBhdGggZnJvbSAncGF0aCc7XG5pbXBvcnQgKiBhcyBta2RpcnAgZnJvbSAnbWtkaXJwJztcblxuZXhwb3J0IGNvbnN0IGlzTWFjID0gcHJvY2Vzcy5wbGF0Zm9ybSA9PT0gJ2Rhcndpbic7XG5leHBvcnQgY29uc3QgaXNMaW51eCA9IHByb2Nlc3MucGxhdGZvcm0gPT09ICdsaW51eCc7XG5leHBvcnQgY29uc3QgaXNXaW5kb3dzID0gcHJvY2Vzcy5wbGF0Zm9ybSA9PT0gJ3dpbjMyJztcblxuLy8gdXNlICVMT0NBTEFQUERBVEElL2RldmNlcnQgb24gV2luZG93cyBvdGhlcndpc2UgdXNlIH4vLmNvbmZpZy9kZXZjZXJ0XG5leHBvcnQgbGV0IGNvbmZpZ0Rpcjogc3RyaW5nO1xuaWYgKGlzV2luZG93cyAmJiBwcm9jZXNzLmVudi5MT0NBTEFQUERBVEEpIHtcbiAgY29uZmlnRGlyID0gcGF0aC5qb2luKHByb2Nlc3MuZW52LkxPQ0FMQVBQREFUQSwgJ2RldmNlcnQnLCAnY29uZmlnJyk7XG59IGVsc2Uge1xuICBsZXQgdWlkID0gcHJvY2Vzcy5nZXR1aWQgJiYgcHJvY2Vzcy5nZXR1aWQoKTtcbiAgbGV0IHVzZXJIb21lID0gKGlzTGludXggJiYgdWlkID09PSAwKSA/IHBhdGgucmVzb2x2ZSgnL3Vzci9sb2NhbC9zaGFyZScpIDogcmVxdWlyZSgnb3MnKS5ob21lZGlyKCk7XG4gIGNvbmZpZ0RpciA9IHBhdGguam9pbih1c2VySG9tZSwgJy5jb25maWcnLCAnZGV2Y2VydCcpO1xufVxuZXhwb3J0IGNvbnN0IGNvbmZpZ1BhdGg6ICguLi5wYXRoU2VnbWVudHM6IHN0cmluZ1tdKSA9PiBzdHJpbmcgPSBwYXRoLmpvaW4uYmluZChwYXRoLCBjb25maWdEaXIpO1xuXG5leHBvcnQgY29uc3Qgb3BlbnNzbENvbmZUZW1wbGF0ZSA9IHBhdGguam9pbihfX2Rpcm5hbWUsICcuLicsICdvcGVuc3NsLmNvbmYnKTtcbmV4cG9ydCBjb25zdCBvcGVuc3NsQ29uZlBhdGggPSBjb25maWdQYXRoKCdvcGVuc3NsLmNvbmYnKTtcbmV4cG9ydCBjb25zdCByb290S2V5UGF0aCA9IGNvbmZpZ1BhdGgoJ2RldmNlcnQtY2Etcm9vdC5rZXknKTtcbmV4cG9ydCBjb25zdCByb290Q2VydFBhdGggPSBjb25maWdQYXRoKCdkZXZjZXJ0LWNhLXJvb3QuY3J0Jyk7XG5leHBvcnQgY29uc3QgY2FDZXJ0c0RpciA9IGNvbmZpZ1BhdGgoJ2NlcnRzJyk7XG5cbm1rZGlycC5zeW5jKGNvbmZpZ0Rpcik7XG5ta2RpcnAuc3luYyhjYUNlcnRzRGlyKTtcbiJdfQ==